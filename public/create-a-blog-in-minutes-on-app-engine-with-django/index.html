






<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"
><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#FFFFFF" />
  
  <title>Create a blog in minutes on App Engine with Django and Cloud Sql &middot; /dev/ by Massimiliano Pippi</title>
    <meta name="title" content="Create a blog in minutes on App Engine with Django and Cloud Sql &middot; /dev/ by Massimiliano Pippi" />
  
  
  
  
  
  <script
    type="text/javascript"
    src="http://localhost:1313/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js"
    integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="
  ></script>
  
  
  
  
  
  
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="http://localhost:1313/css/main.bundle.min.2abed97d6210907523664b7e6725ba691bc95b0ee54b6e46cff169dfba68ae29.css"
    integrity="sha256-Kr7ZfWIQkHUjZkt&#43;ZyW6aRvJWw7lS25Gz/Fp37porik="
  />
  
  
  
  
  
  
  
  <meta
    name="description"
    content="
      
        Intro #Django was actively supported at an early stage of the Python runtime in App Engine SDK through the notable
django-nonrel framework, a fork of the original project that adds support for NoSql databases.
But starting from the App Engine SDK 1.6.2, released more than two years ago, you can instead deploy Django&rsquo;s official releases
and take advantages from the whole stack using Google Cloud Sql.
      
    "
  />
  
  
  
  
    <link rel="canonical" href="http://localhost:1313/create-a-blog-in-minutes-on-app-engine-with-django/" />
  
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/create-a-blog-in-minutes-on-app-engine-with-django/">
  <meta property="og:site_name" content="/dev/ by Massimiliano Pippi">
  <meta property="og:title" content="Create a blog in minutes on App Engine with Django and Cloud Sql">
  <meta property="og:description" content="Intro #Django was actively supported at an early stage of the Python runtime in App Engine SDK through the notable django-nonrel framework, a fork of the original project that adds support for NoSql databases. But starting from the App Engine SDK 1.6.2, released more than two years ago, you can instead deploy Django’s official releases and take advantages from the whole stack using Google Cloud Sql.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="writing">
    <meta property="article:published_time" content="2014-02-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2014-02-10T00:00:00+00:00">
    <meta property="article:tag" content="Django">
    <meta property="article:tag" content="Google">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Appengine">
    <meta property="article:tag" content="Cloudsql">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Create a blog in minutes on App Engine with Django and Cloud Sql">
  <meta name="twitter:description" content="Intro #Django was actively supported at an early stage of the Python runtime in App Engine SDK through the notable django-nonrel framework, a fork of the original project that adds support for NoSql databases. But starting from the App Engine SDK 1.6.2, released more than two years ago, you can instead deploy Django’s official releases and take advantages from the whole stack using Google Cloud Sql.">

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Writings",
    "name": "Create a blog in minutes on App Engine with Django and Cloud Sql",
    "headline": "Create a blog in minutes on App Engine with Django and Cloud Sql",
    
    "abstract": "\u003ch2 id=\u0022intro\u0022 class=\u0022relative group\u0022\u003eIntro \u003cspan class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100\u0022\u003e\u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022 style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#intro\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\u003c\/span\u003e\u003c\/h2\u003e\u003cp\u003eDjango was actively supported at an early stage of the Python runtime in App Engine SDK through the notable\n\u003ca href=\u0022http:\/\/www.django-nonrel.org\u0022 target=\u0022_blank\u0022 rel=\u0022noreferrer\u0022\u003edjango-nonrel\u003c\/a\u003e framework, a fork of the original project that adds support for NoSql databases.\nBut starting from the App Engine SDK 1.6.2, released more than two years ago, you can instead deploy Django\u0026rsquo;s official releases\nand take advantages from the whole stack using Google Cloud Sql.\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http:\/\/localhost:1313\/create-a-blog-in-minutes-on-app-engine-with-django\/",
    "author" : {
      "@type": "Person",
      "name": "Massimiliano Pippi"
    },
    "copyrightYear": "2014",
    "dateCreated": "2014-02-10T00:00:00\u002b00:00",
    "datePublished": "2014-02-10T00:00:00\u002b00:00",
    
    "dateModified": "2014-02-10T00:00:00\u002b00:00",
    
    "keywords": ["django","google","python","appengine","cloudsql"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1323"
  }
  </script>
    
    <script type="application/ld+json">
    {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/",
       "name": "Dev by Massimiliano Pippi",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/writing/",
       "name": "Writings",
       "position": 2
     },
     {
       "@type": "ListItem",
       "name": "Create a Blog in Minutes on App Engine With Django and Cloud SQL",
       "position": 3
     }
   ]
 }
  </script>

  
  
    <meta name="author" content="Massimiliano Pippi" />
  
  
    
      <link href="https://github.com/masci" rel="me" />
    
  
  
  







  
  

  
  
</head>
<body
    class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"
  >
    <div id="the-top" class="absolute flex self-center">
      <a
        class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span
        >Skip to main content</a
      >
    </div>
    
    
      <header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden">
  <nav class="flex items-start justify-between sm:items-center">
    
    <div class="flex flex-row items-center">
      
  <a
    class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"
    rel="me"
    href="/"
    >/dev/ by Massimiliano Pippi</a
  >

    </div>
    
    
      <ul class="flex list-none flex-col text-end sm:flex-row">
        
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/now/"
                  title="What I&#39;m doing Now"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Now</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/writing/"
                  title="Writings"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Stuff I write</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/book/"
                  title=""
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Stuff I read</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/talk/"
                  title="Talks"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Stuff I say</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="https://github.com/masci/dev"
                  title=""
                  target="_blank"
                  >
                    <span
                      class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                    ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a
                >
              
            </li>
          
          
        
      </ul>
    
  </nav>
</header>

    
    <div class="relative flex grow flex-col">
      <main id="main-content" class="grow">
        
  <article>
    <header class="max-w-prose">
      
      <h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Create a blog in minutes on App Engine with Django and Cloud Sql
      </h1>
      
        <div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
          





  
  



  

  
  
    
  

  

  

  
    
  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2014-02-10 00:00:00 &#43;0000 UTC">10 February 2014</time><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">7 mins</span>
    

    
    
  </div>

  
  


        </div>
      
      
    </header>
    <section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row">
      
      <div class="min-h-0 min-w-0 max-w-prose grow">
        <h2 id="intro" class="relative group">Intro <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#intro" aria-label="Anchor">#</a></span></h2><p>Django was actively supported at an early stage of the Python runtime in App Engine SDK through the notable
<a href="http://www.django-nonrel.org" target="_blank" rel="noreferrer">django-nonrel</a> framework, a fork of the original project that adds support for NoSql databases.
But starting from the App Engine SDK 1.6.2, released more than two years ago, you can instead deploy Django&rsquo;s official releases
and take advantages from the whole stack using Google Cloud Sql.</p>
<h2 id="case-study" class="relative group">Case study <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#case-study" aria-label="Anchor">#</a></span></h2><p>We&rsquo;re going to setup a minimal project using <a href="http://django-blog-zinnia.com/" target="_blank" rel="noreferrer">Zinnia</a>, a blog engine built on top of Django and
a fairly complex web application that leverages several components of the framework, a good benchmark for showing how easy can
be deploying on App Engine.</p>
<h2 id="prerequisites" class="relative group">Prerequisites <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#prerequisites" aria-label="Anchor">#</a></span></h2><p>Setting up the Google Cloud services goes beyond the scope of this article and is <a href="https://cloud.google.com/developers/" target="_blank" rel="noreferrer">well documented</a>,
as well as having a working Python environment,  so the following it&rsquo;s assumed:</p>
<ul>
<li>you already started a Google Cloud project</li>
<li>a Google Cloud Sql instance is up and running and you created a database for this project</li>
<li>you created a bucket on Google Cloud Storage to store media files</li>
<li>you have a working installation of Python 2.7 and pip on your local machine</li>
<li>you installed and configured the Python App Engine SDK on your local machine</li>
</ul>
<p>For the last point, make sure that issuing import google from a Python prompt does not raise any error.
Even if not required, I strongly recommend to use <a href="http://www.virtualenv.org/en/latest/" target="_blank" rel="noreferrer">virtualenv</a> to isolate the
Python environment for this project.</p>
<h2 id="bootstrap" class="relative group">Bootstrap <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#bootstrap" aria-label="Anchor">#</a></span></h2><p>Let&rsquo;s start installing Django. The latest version available in the App Engine
<a href="https://developers.google.com/appengine/docs/python/tools/libraries27" target="_blank" rel="noreferrer">Python 2.7 environment</a> is the 1.5, so we go for the same:</p>
<pre><code>pip install django&lt;1.6
</code></pre>
<p>Once finished, we can start an empty project:</p>
<pre><code>django-admin.py startproject myblog
</code></pre>
<p>This will create the typical Django application layout:</p>
<pre><code>myblog
 |_ myblog
 |_ manage.py
</code></pre>
<p>The project needs some dependencies that can be listed in a plain text file, one package per line, so that pip can install them all at once.
Along with the package name we can specify the version number, so that requirements won&rsquo;t change across different installations. Let&rsquo;s put the
following in a file called requirements.txt and save it at the root of the project:</p>
<pre><code>django-blog-zinnia==0.13
django-appengine-toolkit
pillow
</code></pre>
<p>Then we install the dependencies with:</p>
<pre><code>pip install -r requirements.txt
</code></pre>
<p>After pip finished we can finally start coding.</p>
<h2 id="configure-django-and-zinnia" class="relative group">Configure Django and Zinnia <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#configure-django-and-zinnia" aria-label="Anchor">#</a></span></h2><p>First of all, we need to tell Django which application we want to use in our project, so open myblog/myblog/settings.py file and add these lines
to <code>INSTALLED_APP</code> setting:</p>
<pre><code>INSTALLED_APPS = (
    # other stuff here,
    'django.contrib.admin',
    'django.contrib.comments',
    'tagging',
    'mptt',
    'zinnia',
    'appengine_toolkit',
)
</code></pre>
<p>the last application, <a href="https://github.com/masci/django-appengine-toolkit" target="_blank" rel="noreferrer">appengine_toolkit</a>, is an helper that will make easier accessing some
features of App Engine from a Django project, we will see how in a moment.
We want to put all the static files (javascripts, css, images) in a folder called static at the root of our project (to be clear, along with the
<code>manage.py</code> module). Django can automatically collect such files if we set the variable STATIC_ROOT in settings.py with the full path to the
desired folder. We want to build an absolute path that will work both in local and production environments, so it can be convenient to add a
variable <code>BASE_DIR</code> to the <code>settings.py</code> pointing to the project root in a portable manner:</p>
<pre><code>BASE_DIR = os.path.dirname(os.path.dirname(__file__))
</code></pre>
<p>We can then refer the absolute path to the static folder as follows:</p>
<pre><code>STATIC_ROOT = os.path.join(BASE_DIR, 'static')
</code></pre>
<p>Zinnia uses a template context we need to set along with Django&rsquo;s default contexts so we add this block of code in <code>settings.py</code> module:</p>
<pre><code>TEMPLATE_CONTEXT_PROCESSORS = (
    'django.contrib.auth.context_processors.auth',
    'django.core.context_processors.i18n',
    'django.core.context_processors.request',
    'django.core.context_processors.media',
    'zinnia.context_processors.version',
)
</code></pre>
<p>Following lines must be added to our project&rsquo;s urls.py in order to display the blog:
from django.contrib import admin</p>
<pre><code>admin.autodiscover()
    urlpatterns = patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^weblog/', include('zinnia.urls')),
    url(r'^comments/', include('django.contrib.comments.urls')),
)
</code></pre>
<h2 id="configure-app-engine" class="relative group">Configure App Engine <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#configure-app-engine" aria-label="Anchor">#</a></span></h2><p>Now we need to create the yaml file containing App Engine application settings. At the root of the project create an app.yaml text file
containing the following:</p>
<pre><code>application: your_project_id_here
version: 1
runtime: python27
api_version: 1
threadsafe: true

libraries:
- name: django
  version: &quot;1.5&quot;
- name: PIL
  version: &quot;1.1.7&quot;
- name: MySQLdb
  version: &quot;latest&quot;

builtins:
- django_wsgi: on

env_variables:
  DJANGO_SETTINGS_MODULE: 'myblog.settings'
  DATABASE_URL: 'mysql://root@your-project-id:sql-instance-name/database-name'

handlers:
- url: /static
  static_dir: static
</code></pre>
<p>Some parameters need to be adjusted with actual data, in particular we have to provide our Google Cloud project ID and the Cloud SQL instance
name.</p>
<h2 id="configure-database" class="relative group">Configure database <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#configure-database" aria-label="Anchor">#</a></span></h2><p>The <code>DATABASE_URL</code> environment variable contains all the parameters needed to perform a connection from an App Engine application to our
database. Just add the following code to the settings.py to make Django capable to parse and make use of such parameters:</p>
<pre><code>import appengine_toolkit
DATABASES = {
    'default': appengine_toolkit.config(),
}

APPENGINE_TOOLKIT = {
    'APP_YAML': os.path.join(BASE_DIR, 'app.yaml'),
}
</code></pre>
<p>That&rsquo;s all and from now on, all we have to do for changing database connection parameters is to modify the <code>DATABASE_URL</code> environment variable
and deploy the application again.</p>
<h2 id="file-storaging" class="relative group">File storaging <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#file-storaging" aria-label="Anchor">#</a></span></h2><p>We will store uploaded files in a bucket on Google Cloud Storage and we will let Django handle the upload process and then ask the Blobstore API
for a link to statically serve the same files. All we need to do is telling Django the bucket name and the Python class to use to talk to Cloud
Storage API:</p>
<pre><code>APPENGINE_TOOLKIT = {
    # other settings here
    'BUCKET_NAME': 'zinnia-uploads',
}
DEFAULT_FILE_STORAGE = 'appengine_toolkit.storage.GoogleCloudStorage'
STATICFILE_STORAGE = 'appengine_toolkit.storage.GoogleCloudStorage'
</code></pre>
<h2 id="deploy" class="relative group">Deploy <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#deploy" aria-label="Anchor">#</a></span></h2><p>Configuration steps are over, time to create the database schema with Django&rsquo;s built in management commands. Before proceeding, we have to set
the <code>DATABASE_URL</code> environment variable on the local machine performing the command. This is because we need to connect to the Cloud SQL
instance from the local machine and the connection string is slightly different from the one you would use in production, notice the <code>rdbms://</code>
component:</p>
<pre><code>export DATABASE_URL='rdbms://root@your-project-id:sql-instance-name/database-name'
</code></pre>
<p>With the variable set, issue the following command:</p>
<pre><code>python manage.py syncdb
</code></pre>
<p>During the schema creation we will prompted for username and password to assign to the admin user.
Now we need to provide application dependencies and App Engine has a peculiar approach to this: it requires that every piece of software which
is not already provided by the <a href="https://developers.google.com/appengine/docs/python/tools/libraries27" target="_blank" rel="noreferrer">Python Environment</a> has to be uploaded
together with application code during the deployment process. Instead of
mangling our local Python environment we will use a functionality provided by django_appengine_toolkit package. It adds a management command to
Django that symlinks all the dependencies needed in a folder inside the project root, making that folder available to the Python environment. We
issue the command:</p>
<pre><code>python manage.py collectdeps -r requirements.txt
</code></pre>
<p>and if everything is fine we will have a libs directory inside the project root containing all the dependencies needed.
Now we need to collect all the static files in one place, that&rsquo;s the static directory at the project root. Just issue the command:
python manage.py collectstatic
and we should find a folder named static at the project root that contains all the files needed by our application.
Now the final step, the actual deployment. If we are on a Mac we can use the Google App Engine Launcher tool and complete the deployment through
a graphical interface. Otherwise on Linux just issue this command in our project root:</p>
<pre><code>appcfg.py --oauth2 update .
</code></pre>
<p>Check out for any error and try accessing your application with a browser, you should see the Zinnia home page.
You can find the code of the example application in <a href="https://github.com/masci/django_appengine_example" target="_blank" rel="noreferrer">my repo on GitHub</a>.</p>
<h2 id="conclusions" class="relative group">Conclusions <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#conclusions" aria-label="Anchor">#</a></span></h2><p>These days App Engine seems to be a land the Django community forgot, but I think times are good for a change: the brand new Cloud Console and
the gcloud Tool, new services like Cloud Sql and the efforts in supporting the Python SDK can make the life of a Djangonaut a lot easier on the
Google platform. Sure, documentation should improve as well as the support to some client libraries but I think it&rsquo;s worth it and with a little
code we can get very close to something like &ldquo;one click deploy&rdquo;.</p>

      </div>
    </section>
    <footer class="max-w-prose pt-8 print:hidden">
      

      

      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="group flex" href="http://localhost:1313/stop-asking-users-for-passwords-and-let-oauth2-do/">
              <span
                class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&larr;</span
                ><span class="ltr:hidden rtl:inline">&rarr;</span></span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Stop asking users for passwords and let OAuth2 do the job instead</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2013-11-10 00:00:00 &#43;0000 UTC">10 November 2013</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="group flex text-right" href="http://localhost:1313/django-upload-on-google-cloud-storage/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Uploading files to Google Cloud Storage with Django</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2014-05-02 00:00:00 &#43;0000 UTC">2 May 2014</time>
                  
                </span>
              </span>
              <span
                class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&rarr;</span
                ><span class="ltr:hidden rtl:inline">&larr;</span></span
              >
            </a>
          
        </span>
      </div>
    </div>
  


      
    </footer>
  </article>

      </main>
      
        <div
          class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12"
          id="to-top"
          hidden="true"
        >
          <a
            href="#the-top"
            class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
            aria-label="Scroll to top"
            title="Scroll to top"
          >
            &uarr;
          </a>
        </div>
      <footer class="py-10 print:hidden">
  
  
  <div class="flex items-center justify-between">
    <div>
      
      
        <p class="text-sm text-neutral-500 dark:text-neutral-400">
            &copy;
            2025
            Massimiliano Pippi
        </p>
      
      
      
        <p class="text-xs text-neutral-500 dark:text-neutral-400">
          
          
          Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
            href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://github.com/jpanther/congo" target="_blank" rel="noopener noreferrer">Congo</a>
        </p>
      
    </div>
    <div class="flex flex-row items-center">
      
      
      
      
        <div
          class="me-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        >
          <button id="appearance-switcher-0" type="button" aria-label="appearance switcher">
            <div
              class="flex h-12 w-12 items-center justify-center dark:hidden"
              title="Switch to dark appearance"
            >
              <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
            </div>
            <div
              class="hidden h-12 w-12 items-center justify-center dark:flex"
              title="Switch to light appearance"
            >
              <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
            </div>
          </button>
        </div>
      
    </div>
  </div>
  
  
</footer>

    </div>
  </body>
</html>
